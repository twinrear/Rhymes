@{
    ViewData["Title"] = "GetRhymes";
}
@{
}
<div class="text-center">
    <h1>@ViewData["Title"]</h1>
    <h1 class="display-4">Пошук рим</h1>
</div>

<form class="text-center">
    <input type="text" id="word" placeholder="Введіть значення...">
    <button type="button" onclick="getData()">Надіслати</button>
</form>

<div id="result"></div>

<p>@Html.Raw(Model)</p>

<script>

    var pathAPI = "/Rhymes/GetRhymes?word=";

    function getData(inputValue = "") {
        if (inputValue == "")
        {
            inputValue = document.getElementById("word").value;
        }
        var url = pathAPI + inputValue;

        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {

                const myArray = this.responseText.split(', ');

                myArray.forEach(function (word) {
                    const apiURL = pathAPI + word;
                    const linkHTML = `<a href="${apiURL}">${word}</a>`;
                    document.body.innerHTML += linkHTML + '<br>';
                });
            }
        };
        xhttp.open("GET", url, true);
        xhttp.send();

        //fetch(url).then(response => response.text())
        //    .then(data => console.log(data))
        //    .catch(error => console.log('Помилка отримання даних:', error));

        
    }
</script>





